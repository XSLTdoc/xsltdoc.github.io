<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html><head><title>XML source view</title><link rel="stylesheet" type="text/css" href="../xmlverbatim.css"></link><meta http-equiv="Content-Type" content="text/html; Charset=UTF-8"></meta></head><body class="xmlverb-default"><tt>
<!-- converted by xmlverbatim.xsl 1.1, (c) O. Becker -->
<div xmlns:xd="http://www.pnp-software.com/XSLTdoc" class="xmlverb-default">&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d20e1">stylesheet</a></span><span class="xmlverb-ns-name"> xmlns:xsl</span>="<span class="xmlverb-ns-uri">http://www.w3.org/1999/XSL/Transform</span>"<span class="xmlverb-ns-name"> xmlns:xd</span>="<span class="xmlverb-ns-uri">http://www.pnp-software.com/XSLTdoc</span>"<span class="xmlverb-ns-name"> xmlns:xdt</span>="<span class="xmlverb-ns-uri">http://www.pnp-software.com/XSLTdocTemplate</span>"<span class="xmlverb-ns-name"> xmlns:util</span>="<span class="xmlverb-ns-uri">http://www.pnp-software.com/util</span>"<span class="xmlverb-ns-name"> xmlns:xs</span>="<span class="xmlverb-ns-uri">http://www.w3.org/2001/XMLSchema</span>" <span class="xmlverb-attr-name">version</span>="<span class="xmlverb-attr-content">2.0</span>" <span class="xmlverb-attr-name">exclude-result-prefixes</span>="<span class="xmlverb-attr-content">#all</span>"&gt;<span class="xmlverb-text"><br></br>
                <br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d20e3">import</a></span> <span class="xmlverb-attr-name">href</span>="<span class="xmlverb-attr-content">stylesheet.xsl</span>" /&gt;<span class="xmlverb-text"><br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d20e5">include</a></span> <span class="xmlverb-attr-name">href</span>="<span class="xmlverb-attr-content">verbatim/xmlverbatimwrapper.xsl</span>" /&gt;<span class="xmlverb-text"><br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d20e7">include</a></span> <span class="xmlverb-attr-name">href</span>="<span class="xmlverb-attr-content">lib/util.xsl</span>" /&gt;<span class="xmlverb-text"><br></br>
  <br></br>
  </span><div class="xd">
                
  &lt;<span class="xmlverb-element-nsprefix">xd</span>:<span class="xmlverb-element-name"><a name="d20e9">doc</a></span> <span class="xmlverb-attr-name">type</span>="<span class="xmlverb-attr-content">string</span>"&gt;<span class="xmlverb-text"><br></br>
    </span>&lt;<span class="xmlverb-element-nsprefix">xd</span>:<span class="xmlverb-element-name"><a name="d20e11">short</a></span>&gt;<span class="xmlverb-text">The directory in which the documentation should be generated.</span>&lt;/<span class="xmlverb-element-nsprefix">xd</span>:<span class="xmlverb-element-name">short</span>&gt;<span class="xmlverb-text"><br></br>
    </span>&lt;<span class="xmlverb-element-nsprefix">xd</span>:<span class="xmlverb-element-name"><a name="d20e14">detail</a></span>&gt;<span class="xmlverb-text"><br></br>
      The directory given<br></br>
      must be relative to root stylesheet which is being processed.<br></br>
      This parameter is used to compute the variable </span>&lt;<span class="xmlverb-element-name"><a name="d20e16">code</a></span>&gt;<span class="xmlverb-text">$targetDirUriAbs</span>&lt;/<span class="xmlverb-element-name">code</span>&gt;<span class="xmlverb-text">. <br></br>
      If this parameter is not set the </span>&lt;<span class="xmlverb-element-name"><a name="d20e19">code</a></span>&gt;<span class="xmlverb-text">$targetDirUriAbs</span>&lt;/<span class="xmlverb-element-name">code</span>&gt;<span class="xmlverb-text"> variable <br></br>
      defaults to the directory 'doc', which is created inside the same directory<br></br>
      in which the input stylesheet occurs.</span>&lt;<span class="xmlverb-element-name"><a name="d20e22">br</a></span> /&gt;<span class="xmlverb-text"><br></br>
      </span>&lt;<span class="xmlverb-element-name"><a name="d20e24">strong</a></span>&gt;<span class="xmlverb-text">Only used if the input is a stylesheet file. Not used if the input <br></br>
        is a XSLTdocConfig XML file.</span>&lt;/<span class="xmlverb-element-name">strong</span>&gt;<span class="xmlverb-text"><br></br>
    </span>&lt;/<span class="xmlverb-element-nsprefix">xd</span>:<span class="xmlverb-element-name">detail</span>&gt;<span class="xmlverb-text"><br></br>
  </span>&lt;/<span class="xmlverb-element-nsprefix">xd</span>:<span class="xmlverb-element-name">doc</span>&gt;</div><span class="xmlverb-text"><br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d20e29">param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">targetDir</span>" <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">false()</span>" /&gt;<span class="xmlverb-text"><br></br>
  <br></br>
  </span><div class="xd">
                
  &lt;<span class="xmlverb-element-nsprefix">xd</span>:<span class="xmlverb-element-name"><a name="d20e32">doc</a></span>&gt;<span class="xmlverb-text"><br></br>
    Custom Stylesheets. Add additional (custom) css stylesheets here to override css rules from the standard css file (XSLTdoc.css). <br></br>
  </span>&lt;/<span class="xmlverb-element-nsprefix">xd</span>:<span class="xmlverb-element-name">doc</span>&gt;</div><span class="xmlverb-text"><br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d20e35">param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">additionalCSS</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">xs:string*</span>" /&gt;<span class="xmlverb-text"><br></br>
  <br></br>
  <br></br>
  </span><div class="xd">
                
  &lt;<span class="xmlverb-element-nsprefix">xd</span>:<span class="xmlverb-element-name"><a name="d20e37">doc</a></span> <span class="xmlverb-attr-name">type</span>="<span class="xmlverb-attr-content">stylesheet</span>"&gt;<span class="xmlverb-text"><br></br>
    </span>&lt;<span class="xmlverb-element-nsprefix">xd</span>:<span class="xmlverb-element-name"><a name="d20e39">short</a></span>&gt;<span class="xmlverb-text">Core XSLTdoc Stylesheet</span>&lt;/<span class="xmlverb-element-nsprefix">xd</span>:<span class="xmlverb-element-name">short</span>&gt;<span class="xmlverb-text"><br></br>
    </span>&lt;<span class="xmlverb-element-nsprefix">xd</span>:<span class="xmlverb-element-name"><a name="d20e42">detail</a></span>&gt;<span class="xmlverb-text"><br></br>
     This stylesheet<br></br>
    </span>&lt;/<span class="xmlverb-element-nsprefix">xd</span>:<span class="xmlverb-element-name">detail</span>&gt;<span class="xmlverb-text"><br></br>
    </span>&lt;<span class="xmlverb-element-nsprefix">xd</span>:<span class="xmlverb-element-name"><a name="d20e45">author</a></span>&gt;<span class="xmlverb-text">ibirrer</span>&lt;/<span class="xmlverb-element-nsprefix">xd</span>:<span class="xmlverb-element-name">author</span>&gt;<span class="xmlverb-text"><br></br>
    </span>&lt;<span class="xmlverb-element-nsprefix">xd</span>:<span class="xmlverb-element-name"><a name="d20e48">cvsId</a></span>&gt;<span class="xmlverb-text">$Id: core.xsl 43 2009-11-07 13:02:24Z ibirrer $</span>&lt;/<span class="xmlverb-element-nsprefix">xd</span>:<span class="xmlverb-element-name">cvsId</span>&gt;<span class="xmlverb-text"><br></br>
    </span>&lt;<span class="xmlverb-element-nsprefix">xd</span>:<span class="xmlverb-element-name"><a name="d20e51">copyright</a></span>&gt;<span class="xmlverb-text">2004, P&amp;amp;P Software GmbH</span>&lt;/<span class="xmlverb-element-nsprefix">xd</span>:<span class="xmlverb-element-name">copyright</span>&gt;<span class="xmlverb-text"><br></br>
  </span>&lt;/<span class="xmlverb-element-nsprefix">xd</span>:<span class="xmlverb-element-name">doc</span>&gt;</div><span class="xmlverb-text"><br></br>
  <br></br>
  </span>&lt;!--<span class="xmlverb-comment"> Default output format, normally overwritten by importing stylesheet </span>--&gt;<span class="xmlverb-text"><br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d20e57">output</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">text</span>" <span class="xmlverb-attr-name">encoding</span>="<span class="xmlverb-attr-content">UTF-8</span>" /&gt;<span class="xmlverb-text"><br></br>
  <br></br>
  </span>&lt;!--<span class="xmlverb-comment"> Output format for logfile </span>--&gt;<span class="xmlverb-text"><br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d20e62">output</a></span> <span class="xmlverb-attr-name">method</span>="<span class="xmlverb-attr-content">xml</span>" <span class="xmlverb-attr-name">indent</span>="<span class="xmlverb-attr-content">yes</span>" /&gt;<span class="xmlverb-text"><br></br>
  <br></br>
  </span><div class="xd">
                
  &lt;<span class="xmlverb-element-nsprefix">xd</span>:<span class="xmlverb-element-name"><a name="d20e64">doc</a></span>&gt;<span class="xmlverb-text"> <br></br>
    Root template if XSLTdocConfig file is not used; if the input is a stylesheet.<br></br>
  </span>&lt;/<span class="xmlverb-element-nsprefix">xd</span>:<span class="xmlverb-element-name">doc</span>&gt;</div><span class="xmlverb-text"><br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d20e67">template</a></span> <span class="xmlverb-attr-name">match</span>="<span class="xmlverb-attr-content">/xsl:stylesheet | /xsl:transform</span>"&gt;<span class="xmlverb-text"><br></br>
    </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d20e69">param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">config</span>" <span class="xmlverb-attr-name">tunnel</span>="<span class="xmlverb-attr-content">yes</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">element()</span>" /&gt;<span class="xmlverb-text"><br></br>
    </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d20e71">variable</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">targetDirUriAbs</span>" <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">util:normalizeFolder(resolve-uri( if ($targetDir) then $targetDir else concat(util:getFolder(xs:string(base-uri(/))), 'doc/'), xs:string(base-uri(/)) ))</span>" /&gt;<span class="xmlverb-text"><br></br>
    </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d20e73">variable</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">sourceRootUriAbs</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">xs:string</span>" <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">util:getFolder(xs:string(base-uri(/)))</span>" /&gt;<span class="xmlverb-text"><br></br>
    </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d20e75">message</a></span>&gt;<span class="xmlverb-text">Generated documentation in: </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d20e77">value-of</a></span> <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">$targetDirUriAbs</span>" /&gt;&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">message</span>&gt;<span class="xmlverb-text"><br></br>
    </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d20e79">variable</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">tmpConfig</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">element()</span>"&gt;<span class="xmlverb-text"><br></br>
      </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d20e81">element</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">{node-name($config)}</span>"&gt;<span class="xmlverb-text"><br></br>
        </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d20e83">copy-of</a></span> <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">$config/@*</span>" /&gt;<span class="xmlverb-text"><br></br>
        </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d20e85">copy-of</a></span> <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">$config/*</span>" /&gt;<span class="xmlverb-text"><br></br>
        </span>&lt;<span class="xmlverb-element-name"><a name="d20e87">targetDirUriAbs</a></span> <span class="xmlverb-attr-name">href</span>="<span class="xmlverb-attr-content">{$targetDirUriAbs}</span>" /&gt;<span class="xmlverb-text"><br></br>
        </span>&lt;<span class="xmlverb-element-name"><a name="d20e89">sourceRootUriAbs</a></span> <span class="xmlverb-attr-name">href</span>="<span class="xmlverb-attr-content">{$sourceRootUriAbs}</span>" /&gt;<span class="xmlverb-text"><br></br>
      </span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">element</span>&gt;<span class="xmlverb-text"><br></br>
    </span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">variable</span>&gt;<span class="xmlverb-text"><br></br>
    <br></br>
    </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d20e94">variable</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">extConfig</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">element()</span>"&gt;<span class="xmlverb-text"><br></br>
      </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d20e96">apply-templates</a></span> <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">$tmpConfig</span>" <span class="xmlverb-attr-name">mode</span>="<span class="xmlverb-attr-content">enhancePageAttributes</span>" /&gt;<span class="xmlverb-text"><br></br>
    </span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">variable</span>&gt;<span class="xmlverb-text"><br></br>
    <br></br>
    </span>&lt;!--<span class="xmlverb-comment"> Read the files to be processed from the config file and save them in a filelist </span>--&gt;<span class="xmlverb-text"><br></br>
    </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d20e101">variable</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">stylesheetList</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">element()*</span>"&gt;<span class="xmlverb-text"><br></br>
      </span>&lt;<span class="xmlverb-element-name"><a name="d20e103">pagelist</a></span> <span class="xmlverb-attr-name">id</span>="<span class="xmlverb-attr-content">stylesheets</span>"&gt;<span class="xmlverb-text"><br></br>
        </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d20e105">call-template</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">buildStylesheetPagelist</span>"&gt;<span class="xmlverb-text"><br></br>
          </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d20e107">with-param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">stylesheetUri</span>" <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">xs:string(base-uri(/))</span>" /&gt;<span class="xmlverb-text"><br></br>
          </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d20e109">with-param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">rootUri</span>" <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">$sourceRootUriAbs</span>" /&gt;<span class="xmlverb-text"><br></br>
          </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d20e111">with-param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">targetUri</span>" <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">$targetDirUriAbs</span>" /&gt;<span class="xmlverb-text"><br></br>
        </span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">call-template</span>&gt;<span class="xmlverb-text"><br></br>
      </span>&lt;/<span class="xmlverb-element-name">pagelist</span>&gt;<span class="xmlverb-text"><br></br>
    </span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">variable</span>&gt;<span class="xmlverb-text"><br></br>
    <br></br>
    </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d20e116">call-template</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">generatePages</span>"&gt;<span class="xmlverb-text"><br></br>
      </span>&lt;!--<span class="xmlverb-comment"> Append the filelist to the config variable </span>--&gt;<span class="xmlverb-text"><br></br>
      </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d20e120">with-param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">config</span>" <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">util:appendElement($extConfig,$stylesheetList)</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">element()</span>" /&gt;<span class="xmlverb-text"><br></br>
    </span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">call-template</span>&gt;<span class="xmlverb-text"><br></br>
  </span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">template</span>&gt;<span class="xmlverb-text"><br></br>
<br></br>
  </span><div class="xd">
                
  &lt;<span class="xmlverb-element-nsprefix">xd</span>:<span class="xmlverb-element-name"><a name="d20e124">doc</a></span>&gt;<span class="xmlverb-text"> <br></br>
    Root template if XSLTdocConfig file is used<br></br>
  </span>&lt;/<span class="xmlverb-element-nsprefix">xd</span>:<span class="xmlverb-element-name">doc</span>&gt;</div><span class="xmlverb-text"><br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d20e127">template</a></span> <span class="xmlverb-attr-name">match</span>="<span class="xmlverb-attr-content">/XSLTdocConfig</span>"&gt;<span class="xmlverb-text"><br></br>
    </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d20e129">param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">config</span>" <span class="xmlverb-attr-name">tunnel</span>="<span class="xmlverb-attr-content">yes</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">element()</span>" /&gt;<span class="xmlverb-text"><br></br>
    </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d20e131">variable</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">targetDirUriAbs</span>" <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">xs:string(resolve-uri(util:normalizeFolder( util:pathToUri(/XSLTdocConfig/TargetDirectory/@path)), xs:string(base-uri(/)) ))</span>" /&gt;<span class="xmlverb-text"><br></br>
    </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d20e133">variable</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">sourceRootUriAbs</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">xs:string</span>"&gt;<span class="xmlverb-text"><br></br>
      </span>&lt;!--<span class="xmlverb-comment"> Backwards compatibility to old config files. </span>--&gt;<span class="xmlverb-text"><br></br>
      </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d20e137">choose</a></span>&gt;<span class="xmlverb-text"><br></br>
        </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d20e139">when</a></span> <span class="xmlverb-attr-name">test</span>="<span class="xmlverb-attr-content">/XSLTdocConfig/SourceDirectory</span>"&gt;<span class="xmlverb-text"><br></br>
          </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d20e141">sequence</a></span> <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">xs:string(resolve-uri(util:normalizeFolder(util:pathToUri(/XSLTdocConfig/SourceDirectory/@path)), xs:string(base-uri(/))))</span>" /&gt;<span class="xmlverb-text"><br></br>
        </span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">when</span>&gt;<span class="xmlverb-text"><br></br>
        </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d20e144">otherwise</a></span>&gt;<span class="xmlverb-text"><br></br>
          </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d20e146">sequence</a></span> <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">xs:string(resolve-uri(util:normalizeFolder(util:pathToUri(/XSLTdocConfig/RootStylesheets/@dir)), xs:string(base-uri(/))))</span>" /&gt;<span class="xmlverb-text"><br></br>
        </span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">otherwise</span>&gt;<span class="xmlverb-text"><br></br>
      </span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">choose</span>&gt;<span class="xmlverb-text"><br></br>
    </span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">variable</span>&gt;<span class="xmlverb-text"><br></br>
<br></br>
    </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d20e151">variable</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">tmpConfig</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">element()</span>"&gt;<span class="xmlverb-text"><br></br>
      </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d20e153">element</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">{node-name($config)}</span>"&gt;<span class="xmlverb-text"><br></br>
        </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d20e155">copy-of</a></span> <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">$config/@*</span>" /&gt;<span class="xmlverb-text"><br></br>
        </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d20e157">copy-of</a></span> <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">$config/*</span>" /&gt;<span class="xmlverb-text"><br></br>
        </span>&lt;<span class="xmlverb-element-name"><a name="d20e159">targetDirUriAbs</a></span> <span class="xmlverb-attr-name">href</span>="<span class="xmlverb-attr-content">{$targetDirUriAbs}</span>" /&gt;<span class="xmlverb-text"><br></br>
        </span>&lt;<span class="xmlverb-element-name"><a name="d20e161">sourceRootUriAbs</a></span> <span class="xmlverb-attr-name">href</span>="<span class="xmlverb-attr-content">{$sourceRootUriAbs}</span>" /&gt;<span class="xmlverb-text"><br></br>
        </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d20e163">if</a></span> <span class="xmlverb-attr-name">test</span>="<span class="xmlverb-attr-content">AdditionalCSS</span>"&gt;<span class="xmlverb-text"><br></br>
          </span>&lt;<span class="xmlverb-element-name"><a name="d20e165">additionalCSS</a></span>&gt;<span class="xmlverb-text"><br></br>
            </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d20e167">for-each</a></span> <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">AdditionalCSS/File</span>"&gt;<span class="xmlverb-text"><br></br>
              </span>&lt;<span class="xmlverb-element-name"><a name="d20e169">file</a></span> <span class="xmlverb-attr-name">uriAbs</span>="<span class="xmlverb-attr-content">{resolve-uri( @href , $targetDirUriAbs )}</span>"&gt;<span class="xmlverb-text"><br></br>
                </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d20e171">if</a></span> <span class="xmlverb-attr-name">test</span>="<span class="xmlverb-attr-content">@media</span>"&gt;<span class="xmlverb-text"><br></br>
                  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d20e173">copy-of</a></span> <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">@media</span>" /&gt;<span class="xmlverb-text"><br></br>
                </span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">if</span>&gt;<span class="xmlverb-text"><br></br>
              </span>&lt;/<span class="xmlverb-element-name">file</span>&gt;<span class="xmlverb-text"><br></br>
            </span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">for-each</span>&gt;<span class="xmlverb-text"><br></br>
          </span>&lt;/<span class="xmlverb-element-name">additionalCSS</span>&gt;<span class="xmlverb-text"><br></br>
        </span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">if</span>&gt;<span class="xmlverb-text"><br></br>
      </span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">element</span>&gt;<span class="xmlverb-text"><br></br>
    </span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">variable</span>&gt;<span class="xmlverb-text"><br></br>
    <br></br>
    </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d20e182">variable</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">extConfig</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">element()</span>"&gt;<span class="xmlverb-text"><br></br>
      </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d20e184">apply-templates</a></span> <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">$tmpConfig</span>" <span class="xmlverb-attr-name">mode</span>="<span class="xmlverb-attr-content">enhancePageAttributes</span>" /&gt;<span class="xmlverb-text"><br></br>
    </span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">variable</span>&gt;<span class="xmlverb-text"><br></br>
<br></br>
    </span>&lt;!--<span class="xmlverb-comment"> Read the files to be processed from the config file and save them in a filelist </span>--&gt;<span class="xmlverb-text"><br></br>
    </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d20e190">variable</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">stylesheetList</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">element()*</span>"&gt;<span class="xmlverb-text"><br></br>
      </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d20e192">for-each</a></span> <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">RootStylesheets/File</span>"&gt;<span class="xmlverb-text"><br></br>
        </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d20e194">call-template</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">buildStylesheetPagelist</span>"&gt;<span class="xmlverb-text"><br></br>
          </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d20e196">with-param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">stylesheetUri</span>" <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">xs:string(resolve-uri(@href, $sourceRootUriAbs))</span>" /&gt;<span class="xmlverb-text"><br></br>
          </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d20e198">with-param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">rootUri</span>" <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">$sourceRootUriAbs</span>" /&gt;<span class="xmlverb-text"><br></br>
          </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d20e200">with-param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">targetUri</span>" <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">$targetDirUriAbs</span>" /&gt;<span class="xmlverb-text"><br></br>
        </span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">call-template</span>&gt;<span class="xmlverb-text"><br></br>
      </span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">for-each</span>&gt;<span class="xmlverb-text"><br></br>
    </span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">variable</span>&gt;<span class="xmlverb-text"><br></br>
    <br></br>
    </span>&lt;!--<span class="xmlverb-comment"> Build distinct filelist eliminating file elements with the same @uri attribute </span>--&gt;<span class="xmlverb-text"><br></br>
    </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d20e207">variable</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">distinctStylesheetList</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">element()</span>"&gt;<span class="xmlverb-text"><br></br>
      </span>&lt;<span class="xmlverb-element-name"><a name="d20e209">pagelist</a></span> <span class="xmlverb-attr-name">id</span>="<span class="xmlverb-attr-content">stylesheets</span>"&gt;<span class="xmlverb-text"><br></br>
        </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d20e211">for-each-group</a></span> <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">$stylesheetList</span>" <span class="xmlverb-attr-name">group-by</span>="<span class="xmlverb-attr-content">@srcUriAbs</span>"&gt;<span class="xmlverb-text"><br></br>
          </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d20e213">sequence</a></span> <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">.</span>" /&gt;<span class="xmlverb-text"><br></br>
        </span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">for-each-group</span>&gt;<span class="xmlverb-text"><br></br>
      </span>&lt;/<span class="xmlverb-element-name">pagelist</span>&gt;<span class="xmlverb-text"><br></br>
    </span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">variable</span>&gt;<span class="xmlverb-text"><br></br>
    <br></br>
    </span>&lt;!--<span class="xmlverb-comment"> Append the filelist to the config variable </span>--&gt;<span class="xmlverb-text"><br></br>
    </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d20e220">variable</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">finalConfig</span>" <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">util:appendElement( util:appendElement($extConfig, $distinctStylesheetList), /XSLTdocConfig)</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">element()</span>" /&gt;<span class="xmlverb-text"><br></br>
    <br></br>
    </span>&lt;!--<span class="xmlverb-comment"> Write the report file </span>--&gt;<span class="xmlverb-text"><br></br>
    </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d20e225">result-document</a></span> <span class="xmlverb-attr-name">href</span>="<span class="xmlverb-attr-content">{resolve-uri( &amp;quot;xsltdoc-report.xml&amp;quot;, $targetDirUriAbs )}</span>"&gt;<span class="xmlverb-text"><br></br>
      </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d20e227">copy-of</a></span> <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">$finalConfig</span>" /&gt;<span class="xmlverb-text"><br></br>
    </span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">result-document</span>&gt;<span class="xmlverb-text"><br></br>
    <br></br>
    </span>&lt;!--<span class="xmlverb-comment"> Output the target directory </span>--&gt;<span class="xmlverb-text"><br></br>
    </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d20e232">value-of</a></span> <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">$targetDirUriAbs</span>" /&gt;<span class="xmlverb-text"><br></br>
   <br></br>
    </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d20e234">call-template</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">generatePages</span>"&gt;<span class="xmlverb-text"><br></br>
      </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d20e236">with-param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">config</span>" <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">$finalConfig</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">element()</span>" /&gt;<span class="xmlverb-text"><br></br>
    </span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">call-template</span>&gt;<span class="xmlverb-text"><br></br>
  </span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">template</span>&gt;<span class="xmlverb-text"><br></br>
  <br></br>
  <br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d20e240">template</a></span> <span class="xmlverb-attr-name">match</span>="<span class="xmlverb-attr-content">*</span>" <span class="xmlverb-attr-name">mode</span>="<span class="xmlverb-attr-content">enhancePageAttributes</span>"&gt;<span class="xmlverb-text"><br></br>
    </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d20e242">copy</a></span>&gt;<span class="xmlverb-text"><br></br>
      </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d20e244">copy-of</a></span> <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">@*</span>" /&gt;<span class="xmlverb-text"><br></br>
      </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d20e246">apply-templates</a></span> <span class="xmlverb-attr-name">mode</span>="<span class="xmlverb-attr-content">enhancePageAttributes</span>" /&gt;<span class="xmlverb-text"><br></br>
    </span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">copy</span>&gt;<span class="xmlverb-text"><br></br>
  </span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">template</span>&gt;<span class="xmlverb-text"><br></br>
  <br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d20e251">template</a></span> <span class="xmlverb-attr-name">match</span>="<span class="xmlverb-attr-content">page</span>" <span class="xmlverb-attr-name">mode</span>="<span class="xmlverb-attr-content">enhancePageAttributes</span>"&gt;<span class="xmlverb-text"><br></br>
    </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d20e253">copy</a></span>&gt;<span class="xmlverb-text"><br></br>
      </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d20e255">copy-of</a></span> <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">@*</span>" /&gt;<span class="xmlverb-text"><br></br>
      </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d20e257">if</a></span> <span class="xmlverb-attr-name">test</span>="<span class="xmlverb-attr-content">@id</span>"&gt;<span class="xmlverb-text"><br></br>
        </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d20e259">attribute</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">uriAbs</span>"&gt;<span class="xmlverb-text"><br></br>
          </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d20e261">value-of</a></span> <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">xs:string(resolve-uri( if( @targetFilename ) then @targetFilename else concat(@id, '.html'), ancestor::config/targetDirUriAbs/@href ))</span>" /&gt;<span class="xmlverb-text"><br></br>
        </span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">attribute</span>&gt;<span class="xmlverb-text"><br></br>
        </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d20e264">attribute</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">uriRel</span>"&gt;<span class="xmlverb-text"><br></br>
          </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d20e266">value-of</a></span> <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">if( @targetFilename ) then @targetFilename else concat(@id, '.html')</span>" /&gt;<span class="xmlverb-text"><br></br>
        </span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">attribute</span>&gt;<span class="xmlverb-text"><br></br>
      </span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">if</span>&gt;<span class="xmlverb-text"><br></br>
    </span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">copy</span>&gt;<span class="xmlverb-text"><br></br>
  </span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">template</span>&gt;<span class="xmlverb-text"><br></br>
  <br></br>
  </span><div class="xd">
                
  &lt;<span class="xmlverb-element-nsprefix">xd</span>:<span class="xmlverb-element-name"><a name="d20e272">doc</a></span> <span class="xmlverb-attr-name">type</span>="<span class="xmlverb-attr-content">void</span>"&gt;<span class="xmlverb-text"><br></br>
    Generates each page given in the config parameter.<br></br>
  </span>&lt;/<span class="xmlverb-element-nsprefix">xd</span>:<span class="xmlverb-element-name">doc</span>&gt;</div><span class="xmlverb-text"><br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d20e275">template</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">generatePages</span>"&gt;<span class="xmlverb-text"><br></br>
    </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d20e277">param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">config</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">element()</span>" /&gt;<span class="xmlverb-text"><br></br>
    </span>&lt;!--<span class="xmlverb-comment"> To logfile <br></br>
    &lt;xsl:copy-of select="$config"/&gt;</span>--&gt;<span class="xmlverb-text"><br></br>
    </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d20e281">variable</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">htmlTemplate</span>" <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">doc($config/htmlTemplate/@href)</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">document-node()</span>" /&gt;<span class="xmlverb-text"><br></br>
    <br></br>
    </span>&lt;!--<span class="xmlverb-comment"> Generate one html page for each page in config </span>--&gt;<span class="xmlverb-text"><br></br>
    </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d20e285">for-each</a></span> <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">$config/page</span>"&gt;<span class="xmlverb-text"><br></br>
      </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d20e287">result-document</a></span> <span class="xmlverb-attr-name">href</span>="<span class="xmlverb-attr-content">{@uriAbs}</span>" <span class="xmlverb-attr-name">format</span>="<span class="xmlverb-attr-content">xhtml</span>"&gt;<span class="xmlverb-text"><br></br>
        </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d20e289">apply-templates</a></span> <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">$htmlTemplate</span>" <span class="xmlverb-attr-name">mode</span>="<span class="xmlverb-attr-content">htmlTemplate</span>"&gt;<span class="xmlverb-text"><br></br>
          </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d20e291">with-param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">config</span>" <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">$config</span>" <span class="xmlverb-attr-name">tunnel</span>="<span class="xmlverb-attr-content">yes</span>" /&gt;<span class="xmlverb-text"><br></br>
          </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d20e293">with-param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">currentPage</span>" <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">.</span>" <span class="xmlverb-attr-name">tunnel</span>="<span class="xmlverb-attr-content">yes</span>" /&gt;<span class="xmlverb-text"><br></br>
        </span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">apply-templates</span>&gt;<span class="xmlverb-text"><br></br>
      </span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">result-document</span>&gt;<span class="xmlverb-text"><br></br>
    </span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">for-each</span>&gt;<span class="xmlverb-text"><br></br>
   <br></br>
    </span>&lt;!--<span class="xmlverb-comment"> Generate one html page for each stylesheet </span>--&gt;<span class="xmlverb-text"><br></br>
    </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d20e301">for-each</a></span> <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">$config/pagelist/page</span>"&gt;<span class="xmlverb-text"><br></br>
      </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d20e303">result-document</a></span> <span class="xmlverb-attr-name">href</span>="<span class="xmlverb-attr-content">{@uriAbs}</span>" <span class="xmlverb-attr-name">format</span>="<span class="xmlverb-attr-content">xhtml</span>"&gt;<span class="xmlverb-text"><br></br>
        </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d20e305">apply-templates</a></span> <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">$htmlTemplate</span>" <span class="xmlverb-attr-name">mode</span>="<span class="xmlverb-attr-content">htmlTemplate</span>"&gt;<span class="xmlverb-text"><br></br>
          </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d20e307">with-param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">config</span>" <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">$config</span>" <span class="xmlverb-attr-name">tunnel</span>="<span class="xmlverb-attr-content">yes</span>" /&gt;<span class="xmlverb-text"><br></br>
          </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d20e309">with-param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">currentPage</span>" <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">.</span>" <span class="xmlverb-attr-name">tunnel</span>="<span class="xmlverb-attr-content">yes</span>" /&gt;<span class="xmlverb-text"><br></br>
        </span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">apply-templates</span>&gt;<span class="xmlverb-text"><br></br>
      </span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">result-document</span>&gt;<span class="xmlverb-text"><br></br>
    </span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">for-each</span>&gt;<span class="xmlverb-text"><br></br>
    <br></br>
    </span>&lt;!--<span class="xmlverb-comment"> Generate one highlighted sourcecode page for each stylesheet (using) </span>--&gt;<span class="xmlverb-text"><br></br>
    </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d20e316">for-each</a></span> <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">$config/pagelist/page</span>"&gt;<span class="xmlverb-text"><br></br>
      </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d20e318">result-document</a></span> <span class="xmlverb-attr-name">href</span>="<span class="xmlverb-attr-content">{@verbatimUriAbs}</span>" <span class="xmlverb-attr-name">format</span>="<span class="xmlverb-attr-content">xhtml</span>"&gt;<span class="xmlverb-text"><br></br>
        </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d20e320">apply-templates</a></span> <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">doc(@srcUriAbs)</span>" <span class="xmlverb-attr-name">mode</span>="<span class="xmlverb-attr-content">xmlverbwrapper</span>"&gt;<span class="xmlverb-text"><br></br>
          </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d20e322">with-param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">css-stylesheet</span>"&gt;<span class="xmlverb-text"><br></br>
            </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d20e324">value-of</a></span> <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">concat(util:getRelativeUri( util:getFolder(@uriAbs), $config/targetDirUriAbs/@href ), 'xmlverbatim.css')</span>" /&gt;<span class="xmlverb-text"><br></br>
          </span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">with-param</span>&gt;<span class="xmlverb-text"><br></br>
        </span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">apply-templates</span>&gt;<span class="xmlverb-text"><br></br>
      </span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">result-document</span>&gt;<span class="xmlverb-text"><br></br>
    </span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">for-each</span>&gt;<span class="xmlverb-text"><br></br>
  </span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">template</span>&gt;<span class="xmlverb-text"><br></br>
<br></br>
</span>&lt;!--<span class="xmlverb-comment"><br></br>
**************************************<br></br>
 XSLTdoc HTML Templates<br></br>
**************************************<br></br>
</span>--&gt;<span class="xmlverb-text"><br></br>
</span><div class="xd">
                
  &lt;<span class="xmlverb-element-nsprefix">xd</span>:<span class="xmlverb-element-name"><a name="d20e333">doc</a></span>&gt;<span class="xmlverb-text">Identity template for XSLTdoc templates</span>&lt;/<span class="xmlverb-element-nsprefix">xd</span>:<span class="xmlverb-element-name">doc</span>&gt;</div><span class="xmlverb-text"><br></br>
</span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d20e336">template</a></span> <span class="xmlverb-attr-name">match</span>="<span class="xmlverb-attr-content">*</span>" <span class="xmlverb-attr-name">mode</span>="<span class="xmlverb-attr-content">htmlTemplate</span>"&gt;<span class="xmlverb-text"><br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d20e338">param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">config</span>" <span class="xmlverb-attr-name">tunnel</span>="<span class="xmlverb-attr-content">yes</span>" /&gt;<span class="xmlverb-text"><br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d20e340">param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">currentPage</span>" <span class="xmlverb-attr-name">tunnel</span>="<span class="xmlverb-attr-content">yes</span>" /&gt;<span class="xmlverb-text"><br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d20e342">element</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">{node-name(.)}</span>" <span class="xmlverb-attr-name">namespace</span>="<span class="xmlverb-attr-content">http://www.w3.org/1999/xhtml</span>"&gt;<span class="xmlverb-text"><br></br>
    </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d20e344">copy-of</a></span> <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">@*</span>" /&gt;<span class="xmlverb-text"><br></br>
    </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d20e346">apply-templates</a></span> <span class="xmlverb-attr-name">mode</span>="<span class="xmlverb-attr-content">htmlTemplate</span>" /&gt;<span class="xmlverb-text"><br></br>
  </span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">element</span>&gt;<span class="xmlverb-text"><br></br>
</span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">template</span>&gt;<span class="xmlverb-text"><br></br>
<br></br>
</span><div class="xd">
                
  &lt;<span class="xmlverb-element-nsprefix">xd</span>:<span class="xmlverb-element-name"><a name="d20e351">doc</a></span>&gt;<span class="xmlverb-text"><br></br>
  This template replaces the xdt:content element in the html template.<br></br>
</span>&lt;/<span class="xmlverb-element-nsprefix">xd</span>:<span class="xmlverb-element-name">doc</span>&gt;</div><span class="xmlverb-text"><br></br>
</span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d20e354">template</a></span><span class="xmlverb-ns-name"> xmlns</span>="<span class="xmlverb-ns-uri">http://www.w3.org/1999/xhtml</span>" <span class="xmlverb-attr-name">match</span>="<span class="xmlverb-attr-content">xdt:content</span>" <span class="xmlverb-attr-name">mode</span>="<span class="xmlverb-attr-content">htmlTemplate</span>"&gt;<span class="xmlverb-text"><br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d20e356">param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">config</span>" <span class="xmlverb-attr-name">tunnel</span>="<span class="xmlverb-attr-content">yes</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">element()</span>" /&gt;<span class="xmlverb-text"><br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d20e358">param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">currentPage</span>" <span class="xmlverb-attr-name">tunnel</span>="<span class="xmlverb-attr-content">yes</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">element()</span>" /&gt;<span class="xmlverb-text"><br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d20e360">apply-templates</a></span> <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">$currentPage</span>" <span class="xmlverb-attr-name">mode</span>="<span class="xmlverb-attr-content">renderContent</span>" /&gt;<span class="xmlverb-text"><br></br>
</span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">template</span>&gt;<span class="xmlverb-text"><br></br>
<br></br>
</span><div class="xd">
                
  &lt;<span class="xmlverb-element-nsprefix">xd</span>:<span class="xmlverb-element-name"><a name="d20e363">doc</a></span>&gt;<span class="xmlverb-text"><br></br>
  This template replaces the xdt:cssDeclaration element in the html template.<br></br>
</span>&lt;/<span class="xmlverb-element-nsprefix">xd</span>:<span class="xmlverb-element-name">doc</span>&gt;</div><span class="xmlverb-text"><br></br>
</span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d20e366">template</a></span><span class="xmlverb-ns-name"> xmlns</span>="<span class="xmlverb-ns-uri">http://www.w3.org/1999/xhtml</span>" <span class="xmlverb-attr-name">match</span>="<span class="xmlverb-attr-content">xdt:cssDeclaration</span>" <span class="xmlverb-attr-name">mode</span>="<span class="xmlverb-attr-content">htmlTemplate</span>"&gt;<span class="xmlverb-text"><br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d20e368">param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">config</span>" <span class="xmlverb-attr-name">tunnel</span>="<span class="xmlverb-attr-content">yes</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">element()</span>" /&gt;<span class="xmlverb-text"><br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d20e370">param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">currentPage</span>" <span class="xmlverb-attr-name">tunnel</span>="<span class="xmlverb-attr-content">yes</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">element()</span>" /&gt;<span class="xmlverb-text"><br></br>
  </span>&lt;<span class="xmlverb-element-name"><a name="d20e372">link</a></span> <span class="xmlverb-attr-name">href</span>="<span class="xmlverb-attr-content">{concat(util:getRelativeUri( util:getFolder($currentPage/@uriAbs), $config/targetDirUriAbs/@href ), 'XSLTdoc.css')}</span>" <span class="xmlverb-attr-name">rel</span>="<span class="xmlverb-attr-content">stylesheet</span>" <span class="xmlverb-attr-name">type</span>="<span class="xmlverb-attr-content">text/css</span>" /&gt;<span class="xmlverb-text"><br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d20e374">if</a></span> <span class="xmlverb-attr-name">test</span>="<span class="xmlverb-attr-content">$config/additionalCSS</span>"&gt;<span class="xmlverb-text"><br></br>
    </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d20e376">for-each</a></span> <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">$config/additionalCSS/file</span>"&gt;<span class="xmlverb-text"><br></br>
      </span>&lt;<span class="xmlverb-element-name"><a name="d20e378">link</a></span> <span class="xmlverb-attr-name">href</span>="<span class="xmlverb-attr-content">{util:getRelativeUriFiles( @uriAbs, $currentPage/@uriAbs, true() )}</span>" <span class="xmlverb-attr-name">rel</span>="<span class="xmlverb-attr-content">stylesheet</span>" <span class="xmlverb-attr-name">type</span>="<span class="xmlverb-attr-content">text/css</span>"&gt;<span class="xmlverb-text"><br></br>
        </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d20e380">if</a></span> <span class="xmlverb-attr-name">test</span>="<span class="xmlverb-attr-content">@media</span>"&gt;<span class="xmlverb-text"><br></br>
          </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d20e382">copy-of</a></span> <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">@media</span>" /&gt;<span class="xmlverb-text"><br></br>
        </span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">if</span>&gt;<span class="xmlverb-text"><br></br>
      </span>&lt;/<span class="xmlverb-element-name">link</span>&gt;<span class="xmlverb-text"><br></br>
    </span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">for-each</span>&gt;<span class="xmlverb-text"><br></br>
  </span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">if</span>&gt;<span class="xmlverb-text">  <br></br>
</span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">template</span>&gt;<span class="xmlverb-text"><br></br>
<br></br>
</span><div class="xd">
                
  &lt;<span class="xmlverb-element-nsprefix">xd</span>:<span class="xmlverb-element-name"><a name="d20e389">doc</a></span>&gt;<span class="xmlverb-text"><br></br>
  Renders the site title<br></br>
</span>&lt;/<span class="xmlverb-element-nsprefix">xd</span>:<span class="xmlverb-element-name">doc</span>&gt;</div><span class="xmlverb-text"><br></br>
</span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d20e392">template</a></span><span class="xmlverb-ns-name"> xmlns</span>="<span class="xmlverb-ns-uri">http://www.w3.org/1999/xhtml</span>" <span class="xmlverb-attr-name">match</span>="<span class="xmlverb-attr-content">xdt:siteTitle</span>" <span class="xmlverb-attr-name">mode</span>="<span class="xmlverb-attr-content">htmlTemplate</span>"&gt;<span class="xmlverb-text"><br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d20e394">param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">config</span>" <span class="xmlverb-attr-name">tunnel</span>="<span class="xmlverb-attr-content">yes</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">element()</span>" /&gt;<span class="xmlverb-text"><br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d20e396">param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">currentPage</span>" <span class="xmlverb-attr-name">tunnel</span>="<span class="xmlverb-attr-content">yes</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">element()</span>" /&gt;<span class="xmlverb-text"><br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d20e398">choose</a></span>&gt;<span class="xmlverb-text"><br></br>
    </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d20e400">when</a></span> <span class="xmlverb-attr-name">test</span>="<span class="xmlverb-attr-content">$config/XSLTdocConfig</span>"&gt;<span class="xmlverb-text"><br></br>
      </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d20e402">value-of</a></span> <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">concat($config/XSLTdocConfig/Title,' - ', $currentPage/@label)</span>" /&gt;<span class="xmlverb-text"><br></br>
    </span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">when</span>&gt;<span class="xmlverb-text"><br></br>
    </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d20e405">otherwise</a></span>&gt;<span class="xmlverb-text"><br></br>
      </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d20e407">value-of</a></span> <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">concat('XSLTdoc - ', $currentPage/@label)</span>" /&gt;<span class="xmlverb-text"><br></br>
    </span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">otherwise</span>&gt;<span class="xmlverb-text"><br></br>
  </span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">choose</span>&gt;<span class="xmlverb-text"><br></br>
</span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">template</span>&gt;<span class="xmlverb-text"><br></br>
<br></br>
</span><div class="xd">
                
  &lt;<span class="xmlverb-element-nsprefix">xd</span>:<span class="xmlverb-element-name"><a name="d20e413">doc</a></span>&gt;<span class="xmlverb-text"><br></br>
  This template replaces the xdt:menuLinks element in the html template.<br></br>
</span>&lt;/<span class="xmlverb-element-nsprefix">xd</span>:<span class="xmlverb-element-name">doc</span>&gt;</div><span class="xmlverb-text"><br></br>
</span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d20e416">template</a></span><span class="xmlverb-ns-name"> xmlns</span>="<span class="xmlverb-ns-uri">http://www.w3.org/1999/xhtml</span>" <span class="xmlverb-attr-name">match</span>="<span class="xmlverb-attr-content">xdt:menuLinks</span>" <span class="xmlverb-attr-name">mode</span>="<span class="xmlverb-attr-content">htmlTemplate</span>"&gt;<span class="xmlverb-text"><br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d20e418">param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">config</span>" <span class="xmlverb-attr-name">tunnel</span>="<span class="xmlverb-attr-content">yes</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">element()</span>" /&gt;<span class="xmlverb-text"><br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d20e420">param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">currentPage</span>" <span class="xmlverb-attr-name">tunnel</span>="<span class="xmlverb-attr-content">yes</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">element()</span>" /&gt;<span class="xmlverb-text"><br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d20e422">for-each</a></span> <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">$config/page[@menu='yes']</span>"&gt;<span class="xmlverb-text"><br></br>
    </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d20e424">choose</a></span>&gt;<span class="xmlverb-text"><br></br>
      </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d20e426">when</a></span> <span class="xmlverb-attr-name">test</span>="<span class="xmlverb-attr-content">$currentPage is .</span>"&gt;<span class="xmlverb-text"><br></br>
        </span>&lt;<span class="xmlverb-element-name"><a name="d20e428">a</a></span> <span class="xmlverb-attr-name">class</span>="<span class="xmlverb-attr-content">menuLinkCurrent</span>" <span class="xmlverb-attr-name">href</span>="<span class="xmlverb-attr-content">{util:getRelativeUriFiles( @uriAbs, $currentPage/@uriAbs, true() )}</span>"&gt;&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d20e429">value-of</a></span> <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">@label</span>" /&gt;&lt;/<span class="xmlverb-element-name">a</span>&gt;<span class="xmlverb-text"><br></br>
      </span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">when</span>&gt;<span class="xmlverb-text"><br></br>
      </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d20e432">otherwise</a></span>&gt;<span class="xmlverb-text"><br></br>
        </span>&lt;<span class="xmlverb-element-name"><a name="d20e434">a</a></span> <span class="xmlverb-attr-name">class</span>="<span class="xmlverb-attr-content">menuLink</span>" <span class="xmlverb-attr-name">href</span>="<span class="xmlverb-attr-content">{util:getRelativeUriFiles( @uriAbs, $currentPage/@uriAbs, true() )}</span>"&gt;&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d20e435">value-of</a></span> <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">@label</span>" /&gt;&lt;/<span class="xmlverb-element-name">a</span>&gt;<span class="xmlverb-text"><br></br>
      </span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">otherwise</span>&gt;<span class="xmlverb-text"><br></br>
    </span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">choose</span>&gt;<span class="xmlverb-text"><br></br>
  </span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">for-each</span>&gt;<span class="xmlverb-text"><br></br>
</span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">template</span>&gt;<span class="xmlverb-text"><br></br>
<br></br>
</span><div class="xd">
                
  &lt;<span class="xmlverb-element-nsprefix">xd</span>:<span class="xmlverb-element-name"><a name="d20e441">doc</a></span>&gt;<span class="xmlverb-text"><br></br>
  This stylesheet renders the content for pages definded in the 'stylesheet' pagelist.<br></br>
  It just applies the template rules to the root element of the stylesheets linked<br></br>
  in the page element. This calls the template rules defined in stylesheet.xsl.<br></br>
</span>&lt;/<span class="xmlverb-element-nsprefix">xd</span>:<span class="xmlverb-element-name">doc</span>&gt;</div><span class="xmlverb-text"><br></br>
</span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d20e444">template</a></span> <span class="xmlverb-attr-name">match</span>="<span class="xmlverb-attr-content">page[parent::pagelist[@id='stylesheets']]</span>" <span class="xmlverb-attr-name">mode</span>="<span class="xmlverb-attr-content">renderContent</span>"&gt;<span class="xmlverb-text"><br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d20e446">param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">config</span>" <span class="xmlverb-attr-name">tunnel</span>="<span class="xmlverb-attr-content">yes</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">element()</span>" /&gt;<span class="xmlverb-text"><br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d20e448">param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">currentPage</span>" <span class="xmlverb-attr-name">tunnel</span>="<span class="xmlverb-attr-content">yes</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">element()</span>" /&gt;<span class="xmlverb-text"><br></br>
  </span>&lt;!--<span class="xmlverb-comment"> Calls the templates defined in stylesheet.xsl </span>--&gt;<span class="xmlverb-text"><br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d20e452">apply-templates</a></span> <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">doc(@srcUriAbs)</span>" <span class="xmlverb-attr-name">mode</span>="<span class="xmlverb-attr-content">stylesheet</span>" /&gt;<span class="xmlverb-text"><br></br>
</span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">template</span>&gt;<span class="xmlverb-text"><br></br>
<br></br>
</span><div class="xd">
                
  &lt;<span class="xmlverb-element-nsprefix">xd</span>:<span class="xmlverb-element-name"><a name="d20e455">doc</a></span>&gt;<span class="xmlverb-text"><br></br>
  This templates creates the content for a page with the name 'stylesheetList'.<br></br>
</span>&lt;/<span class="xmlverb-element-nsprefix">xd</span>:<span class="xmlverb-element-name">doc</span>&gt;</div><span class="xmlverb-text"><br></br>
</span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d20e458">template</a></span><span class="xmlverb-ns-name"> xmlns</span>="<span class="xmlverb-ns-uri">http://www.w3.org/1999/xhtml</span>" <span class="xmlverb-attr-name">match</span>="<span class="xmlverb-attr-content">page[@id='stylesheetList']</span>" <span class="xmlverb-attr-name">mode</span>="<span class="xmlverb-attr-content">renderContent</span>"&gt;<span class="xmlverb-text"><br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d20e460">param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">config</span>" <span class="xmlverb-attr-name">tunnel</span>="<span class="xmlverb-attr-content">yes</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">element()</span>" /&gt;<span class="xmlverb-text"><br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d20e462">param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">currentPage</span>" <span class="xmlverb-attr-name">tunnel</span>="<span class="xmlverb-attr-content">yes</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">element()</span>" /&gt;<span class="xmlverb-text"><br></br>
  </span>&lt;<span class="xmlverb-element-name"><a name="d20e464">div</a></span> <span class="xmlverb-attr-name">id</span>="<span class="xmlverb-attr-content">stylesheetList</span>"&gt;<span class="xmlverb-text"><br></br>
    </span>&lt;<span class="xmlverb-element-name"><a name="d20e466">h1</a></span>&gt;<span class="xmlverb-text">Stylesheet List</span>&lt;/<span class="xmlverb-element-name">h1</span>&gt;<span class="xmlverb-text"><br></br>
    </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d20e469">for-each</a></span> <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">$config/pagelist[@id='stylesheets']/page</span>"&gt;<span class="xmlverb-text"><br></br>
      </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d20e471">sort</a></span> <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">@srcDirAbs</span>" /&gt;<span class="xmlverb-text"><br></br>
      </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d20e473">sort</a></span> <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">@srcFilename</span>" /&gt;<span class="xmlverb-text"><br></br>
      </span>&lt;<span class="xmlverb-element-name"><a name="d20e475">div</a></span> <span class="xmlverb-attr-name">class</span>="<span class="xmlverb-attr-content">listItem</span>"&gt;<span class="xmlverb-text"><br></br>
        </span>&lt;<span class="xmlverb-element-name"><a name="d20e477">span</a></span> <span class="xmlverb-attr-name">class</span>="<span class="xmlverb-attr-content">declName</span>"&gt;<span class="xmlverb-text"><br></br>
          </span>&lt;<span class="xmlverb-element-name"><a name="d20e479">a</a></span> <span class="xmlverb-attr-name">class</span>="<span class="xmlverb-attr-content">declLink</span>" <span class="xmlverb-attr-name">href</span>="<span class="xmlverb-attr-content">{@uriRel}</span>"&gt;&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d20e480">value-of</a></span> <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">@srcUriRel</span>" /&gt;&lt;/<span class="xmlverb-element-name">a</span>&gt;<span class="xmlverb-text"><br></br>
        </span>&lt;/<span class="xmlverb-element-name">span</span>&gt;<span class="xmlverb-text"><br></br>
        </span>&lt;<span class="xmlverb-element-name"><a name="d20e483">div</a></span> <span class="xmlverb-attr-name">class</span>="<span class="xmlverb-attr-content">shortDoc</span>"&gt;<span class="xmlverb-text"><br></br>
          </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d20e485">apply-templates</a></span> <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">doc(@srcUriAbs)/(xsl:stylesheet | xsl:transform)</span>" <span class="xmlverb-attr-name">mode</span>="<span class="xmlverb-attr-content">printShortDescription</span>" /&gt;<span class="xmlverb-text"><br></br>
        </span>&lt;/<span class="xmlverb-element-name">div</span>&gt;<span class="xmlverb-text"><br></br>
      </span>&lt;/<span class="xmlverb-element-name">div</span>&gt;<span class="xmlverb-text"><br></br>
    </span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">for-each</span>&gt;<span class="xmlverb-text"><br></br>
  </span>&lt;/<span class="xmlverb-element-name">div</span>&gt;<span class="xmlverb-text"><br></br>
</span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">template</span>&gt;<span class="xmlverb-text"><br></br>
<br></br>
</span><div class="xd">
                
  &lt;<span class="xmlverb-element-nsprefix">xd</span>:<span class="xmlverb-element-name"><a name="d20e493">doc</a></span>&gt;<span class="xmlverb-text"><br></br>
  This templates creates the content for a page with the name 'functionTemplateList'.<br></br>
</span>&lt;/<span class="xmlverb-element-nsprefix">xd</span>:<span class="xmlverb-element-name">doc</span>&gt;</div><span class="xmlverb-text"><br></br>
</span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d20e496">template</a></span><span class="xmlverb-ns-name"> xmlns</span>="<span class="xmlverb-ns-uri">http://www.w3.org/1999/xhtml</span>" <span class="xmlverb-attr-name">match</span>="<span class="xmlverb-attr-content">page[@id='functionTemplateList']</span>" <span class="xmlverb-attr-name">mode</span>="<span class="xmlverb-attr-content">renderContent</span>"&gt;<span class="xmlverb-text"><br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d20e498">param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">config</span>" <span class="xmlverb-attr-name">tunnel</span>="<span class="xmlverb-attr-content">yes</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">element()</span>" /&gt;<span class="xmlverb-text"><br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d20e500">param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">currentPage</span>" <span class="xmlverb-attr-name">tunnel</span>="<span class="xmlverb-attr-content">yes</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">element()</span>" /&gt;<span class="xmlverb-text"><br></br>
  </span>&lt;<span class="xmlverb-element-name"><a name="d20e502">div</a></span> <span class="xmlverb-attr-name">id</span>="<span class="xmlverb-attr-content">functionTemplateList</span>"&gt;<span class="xmlverb-text"><br></br>
    </span>&lt;<span class="xmlverb-element-name"><a name="d20e504">h1</a></span>&gt;<span class="xmlverb-text">Functions/Templates List</span>&lt;/<span class="xmlverb-element-name">h1</span>&gt;<span class="xmlverb-text"><br></br>
    <br></br>
    </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d20e507">variable</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">allFunctions</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">element()*</span>"&gt;<span class="xmlverb-text"><br></br>
      </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d20e509">for-each</a></span> <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">$config/pagelist[@id='stylesheets']/page</span>"&gt;<span class="xmlverb-text"><br></br>
        </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d20e511">variable</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">page</span>" <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">.</span>" /&gt;<span class="xmlverb-text"><br></br>
        </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d20e513">for-each</a></span> <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">doc(@srcUriAbs)/(xsl:stylesheet | xsl:transform)/xsl:function[xd:accessMatch(.)]</span>"&gt;<span class="xmlverb-text"><br></br>
          </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d20e515">sequence</a></span> <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">.</span>" /&gt;<span class="xmlverb-text"><br></br>
          </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d20e517">sequence</a></span> <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">$page</span>" /&gt;<span class="xmlverb-text"><br></br>
        </span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">for-each</span>&gt;<span class="xmlverb-text"><br></br>
      </span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">for-each</span>&gt;<span class="xmlverb-text"><br></br>
    </span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">variable</span>&gt;<span class="xmlverb-text"><br></br>
    <br></br>
    </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d20e522">variable</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">allTemplates</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">element()*</span>"&gt;<span class="xmlverb-text"><br></br>
      </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d20e524">for-each</a></span> <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">$config/pagelist[@id='stylesheets']/page</span>"&gt;<span class="xmlverb-text"><br></br>
        </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d20e526">variable</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">page</span>" <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">.</span>" /&gt;<span class="xmlverb-text"><br></br>
        </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d20e528">for-each</a></span> <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">doc(@srcUriAbs)/(xsl:stylesheet | xsl:transform)/xsl:template[@name][xd:accessMatch(.)]</span>"&gt;<span class="xmlverb-text"><br></br>
          </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d20e530">sequence</a></span> <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">.</span>" /&gt;<span class="xmlverb-text"><br></br>
          </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d20e532">sequence</a></span> <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">$page</span>" /&gt;<span class="xmlverb-text"><br></br>
        </span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">for-each</span>&gt;<span class="xmlverb-text"><br></br>
      </span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">for-each</span>&gt;<span class="xmlverb-text"><br></br>
    </span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">variable</span>&gt;<span class="xmlverb-text"><br></br>
<br></br>
    </span>&lt;<span class="xmlverb-element-name"><a name="d20e537">div</a></span> <span class="xmlverb-attr-name">id</span>="<span class="xmlverb-attr-content">namedTemplatesSummary</span>" <span class="xmlverb-attr-name">class</span>="<span class="xmlverb-attr-content">summarySection</span>"&gt;<span class="xmlverb-text"><br></br>
      </span>&lt;<span class="xmlverb-element-name"><a name="d20e539">h2</a></span>&gt;<span class="xmlverb-text">Templates</span>&lt;/<span class="xmlverb-element-name">h2</span>&gt;<span class="xmlverb-text"><br></br>
      </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d20e542">for-each</a></span> <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">$allTemplates[self::xsl:template]</span>"&gt;<span class="xmlverb-text"><br></br>
        </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d20e544">variable</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">pos</span>" <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">position()</span>" /&gt;<span class="xmlverb-text"><br></br>
        </span>&lt;<span class="xmlverb-element-name"><a name="d20e546">div</a></span> <span class="xmlverb-attr-name">class</span>="<span class="xmlverb-attr-content">listItem</span>"&gt;<span class="xmlverb-text"><br></br>
          </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d20e548">apply-templates</a></span> <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">.</span>" <span class="xmlverb-attr-name">mode</span>="<span class="xmlverb-attr-content">printDeclaration</span>"&gt;<span class="xmlverb-text"><br></br>
            </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d20e550">with-param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">link</span>" <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">concat($allTemplates[self::page][$pos]/@uriRel, '#', generate-id(.))</span>" /&gt;<span class="xmlverb-text"><br></br>
            </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d20e552">with-param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">verbatimUriRel</span>" <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">$allTemplates[self::page][$pos]/@verbatimUriRel</span>" /&gt;<span class="xmlverb-text"><br></br>
          </span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">apply-templates</span>&gt;<span class="xmlverb-text"><br></br>
          </span>&lt;<span class="xmlverb-element-name"><a name="d20e555">div</a></span> <span class="xmlverb-attr-name">class</span>="<span class="xmlverb-attr-content">shortDoc</span>"&gt;<span class="xmlverb-text"><br></br>
            </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d20e557">apply-templates</a></span> <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">.</span>" <span class="xmlverb-attr-name">mode</span>="<span class="xmlverb-attr-content">printShortDescription</span>" /&gt;<span class="xmlverb-text"><br></br>
          </span>&lt;/<span class="xmlverb-element-name">div</span>&gt;<span class="xmlverb-text"><br></br>
        </span>&lt;/<span class="xmlverb-element-name">div</span>&gt;<span class="xmlverb-text"><br></br>
      </span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">for-each</span>&gt;<span class="xmlverb-text"><br></br>
    </span>&lt;/<span class="xmlverb-element-name">div</span>&gt;<span class="xmlverb-text"><br></br>
    <br></br>
    </span>&lt;<span class="xmlverb-element-name"><a name="d20e563">div</a></span> <span class="xmlverb-attr-name">id</span>="<span class="xmlverb-attr-content">functionsSummary</span>" <span class="xmlverb-attr-name">class</span>="<span class="xmlverb-attr-content">summarySection</span>"&gt;<span class="xmlverb-text"><br></br>
      </span>&lt;<span class="xmlverb-element-name"><a name="d20e565">h2</a></span>&gt;<span class="xmlverb-text">Functions</span>&lt;/<span class="xmlverb-element-name">h2</span>&gt;<span class="xmlverb-text"><br></br>
      </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d20e568">for-each</a></span> <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">$allFunctions[self::xsl:function]</span>"&gt;<span class="xmlverb-text"><br></br>
        </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d20e570">variable</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">pos</span>" <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">position()</span>" /&gt;<span class="xmlverb-text"><br></br>
        </span>&lt;<span class="xmlverb-element-name"><a name="d20e572">div</a></span> <span class="xmlverb-attr-name">class</span>="<span class="xmlverb-attr-content">listItem</span>"&gt;<span class="xmlverb-text"><br></br>
          </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d20e574">apply-templates</a></span> <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">.</span>" <span class="xmlverb-attr-name">mode</span>="<span class="xmlverb-attr-content">printDeclaration</span>"&gt;<span class="xmlverb-text"><br></br>
            </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d20e576">with-param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">link</span>" <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">concat($allFunctions[self::page][$pos]/@uriRel, '#', generate-id(.))</span>" /&gt;<span class="xmlverb-text"><br></br>
            </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d20e578">with-param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">verbatimUriRel</span>" <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">$allFunctions[self::page][$pos]/@verbatimUriRel</span>" /&gt;<span class="xmlverb-text"><br></br>
          </span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">apply-templates</span>&gt;<span class="xmlverb-text"><br></br>
          </span>&lt;<span class="xmlverb-element-name"><a name="d20e581">div</a></span> <span class="xmlverb-attr-name">class</span>="<span class="xmlverb-attr-content">shortDoc</span>"&gt;<span class="xmlverb-text"><br></br>
            </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d20e583">apply-templates</a></span> <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">.</span>" <span class="xmlverb-attr-name">mode</span>="<span class="xmlverb-attr-content">printShortDescription</span>" /&gt;<span class="xmlverb-text"><br></br>
          </span>&lt;/<span class="xmlverb-element-name">div</span>&gt;<span class="xmlverb-text"><br></br>
        </span>&lt;/<span class="xmlverb-element-name">div</span>&gt;<span class="xmlverb-text"><br></br>
      </span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">for-each</span>&gt;<span class="xmlverb-text"><br></br>
    </span>&lt;/<span class="xmlverb-element-name">div</span>&gt;<span class="xmlverb-text"><br></br>
  </span>&lt;/<span class="xmlverb-element-name">div</span>&gt;<span class="xmlverb-text"><br></br>
</span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">template</span>&gt;<span class="xmlverb-text"><br></br>
<br></br>
</span><div class="xd">
                
  &lt;<span class="xmlverb-element-nsprefix">xd</span>:<span class="xmlverb-element-name"><a name="d20e591">doc</a></span>&gt;<span class="xmlverb-text"><br></br>
  This templates creates the content for a page with the name 'mainPage'.<br></br>
</span>&lt;/<span class="xmlverb-element-nsprefix">xd</span>:<span class="xmlverb-element-name">doc</span>&gt;</div><span class="xmlverb-text"><br></br>
</span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d20e594">template</a></span><span class="xmlverb-ns-name"> xmlns</span>="<span class="xmlverb-ns-uri">http://www.w3.org/1999/xhtml</span>" <span class="xmlverb-attr-name">match</span>="<span class="xmlverb-attr-content">page[@id='mainPage']</span>" <span class="xmlverb-attr-name">mode</span>="<span class="xmlverb-attr-content">renderContent</span>"&gt;<span class="xmlverb-text"><br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d20e596">param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">config</span>" <span class="xmlverb-attr-name">tunnel</span>="<span class="xmlverb-attr-content">yes</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">element()</span>" /&gt;<span class="xmlverb-text"><br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d20e598">param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">currentPage</span>" <span class="xmlverb-attr-name">tunnel</span>="<span class="xmlverb-attr-content">yes</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">element()</span>" /&gt;<span class="xmlverb-text"><br></br>
  </span>&lt;<span class="xmlverb-element-name"><a name="d20e600">div</a></span> <span class="xmlverb-attr-name">id</span>="<span class="xmlverb-attr-content">mainPage</span>"&gt;<span class="xmlverb-text"><br></br>
    </span>&lt;<span class="xmlverb-element-name"><a name="d20e602">h1</a></span>&gt;&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d20e603">value-of</a></span> <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">$config/XSLTdocConfig/Title</span>" /&gt;&lt;/<span class="xmlverb-element-name">h1</span>&gt;<span class="xmlverb-text"><br></br>
    </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d20e605">apply-templates</a></span> <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">$config/XSLTdocConfig/Introduction/node()</span>" <span class="xmlverb-attr-name">mode</span>="<span class="xmlverb-attr-content">namspace2xhtml</span>" /&gt;<span class="xmlverb-text"><br></br>
  </span>&lt;/<span class="xmlverb-element-name">div</span>&gt;<span class="xmlverb-text"><br></br>
</span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">template</span>&gt;<span class="xmlverb-text"><br></br>
<br></br>
</span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d20e609">template</a></span> <span class="xmlverb-attr-name">match</span>="<span class="xmlverb-attr-content">*</span>" <span class="xmlverb-attr-name">mode</span>="<span class="xmlverb-attr-content">namspace2xhtml</span>"&gt;<span class="xmlverb-text"><br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d20e611">element</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">{node-name(.)}</span>" <span class="xmlverb-attr-name">namespace</span>="<span class="xmlverb-attr-content">http://www.w3.org/1999/xhtml</span>"&gt;<span class="xmlverb-text"><br></br>
    </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d20e613">copy-of</a></span> <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">@*</span>" /&gt;<span class="xmlverb-text"><br></br>
    </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d20e615">apply-templates</a></span> <span class="xmlverb-attr-name">mode</span>="<span class="xmlverb-attr-content">XdocTags</span>" /&gt;<span class="xmlverb-text"><br></br>
  </span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">element</span>&gt;<span class="xmlverb-text"><br></br>
</span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">template</span>&gt;<span class="xmlverb-text"><br></br>
<br></br>
<br></br>
</span>&lt;!--<span class="xmlverb-comment"> <br></br>
****************************************<br></br>
* Named Templates<br></br>
****************************************<br></br>
 </span>--&gt;<span class="xmlverb-text"><br></br>
  </span><div class="xd">
                
  &lt;<span class="xmlverb-element-nsprefix">xd</span>:<span class="xmlverb-element-name"><a name="d20e622">doc</a></span>&gt;<span class="xmlverb-text"> <br></br>
    Builds a list of all stylesheet files by following the include and<br></br>
    import links in each stylesheet.<br></br>
    <br></br>
    </span>&lt;<span class="xmlverb-element-nsprefix">xd</span>:<span class="xmlverb-element-name"><a name="d20e624">param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">stylesheetUri</span>"&gt;<span class="xmlverb-text">The URI of the stylesheet from which indcludes/imports should be followed to find files.</span>&lt;/<span class="xmlverb-element-nsprefix">xd</span>:<span class="xmlverb-element-name">param</span>&gt;<span class="xmlverb-text"><br></br>
    </span>&lt;<span class="xmlverb-element-nsprefix">xd</span>:<span class="xmlverb-element-name"><a name="d20e627">param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">rootUri</span>"&gt;<span class="xmlverb-text">The root directory to which relative paths should be built to.</span>&lt;/<span class="xmlverb-element-nsprefix">xd</span>:<span class="xmlverb-element-name">param</span>&gt;<span class="xmlverb-text"><br></br>
  </span>&lt;/<span class="xmlverb-element-nsprefix">xd</span>:<span class="xmlverb-element-name">doc</span>&gt;</div><span class="xmlverb-text"><br></br>
  </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d20e631">template</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">buildStylesheetPagelist</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">element()*</span>"&gt;<span class="xmlverb-text"><br></br>
    </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d20e633">param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">stylesheetUri</span>" <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">xs:string(base-uri(.))</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">xs:string</span>" /&gt;<span class="xmlverb-text"><br></br>
    </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d20e635">param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">rootUri</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">xs:string</span>" /&gt;<span class="xmlverb-text"><br></br>
    </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d20e637">param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">targetUri</span>" <span class="xmlverb-attr-name">as</span>="<span class="xmlverb-attr-content">xs:string</span>" /&gt;<span class="xmlverb-text"><br></br>
    </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d20e639">variable</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">srcUriAbs</span>" <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">util:normalizeUri($stylesheetUri)</span>" /&gt;<span class="xmlverb-text"><br></br>
    </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d20e641">variable</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">srcDirAbs</span>" <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">util:getFolder($srcUriAbs)</span>" /&gt;<span class="xmlverb-text"><br></br>
    </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d20e644">variable</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">srcFilename</span>" <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">util:getFile($srcUriAbs)</span>" /&gt;<span class="xmlverb-text"><br></br>
    </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d20e646">variable</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">srcDirRel</span>" <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">util:getRelativeUri($rootUri, util:getFolder($srcUriAbs))</span>" /&gt;<span class="xmlverb-text"><br></br>
    </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d20e648">variable</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">srcUriRel</span>" <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">concat($srcDirRel, $srcFilename)</span>" /&gt;<span class="xmlverb-text"><br></br>
    </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d20e650">variable</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">uriAbs</span>" <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">concat($targetUri, $srcDirRel, $srcFilename, '.xd.html')</span>" /&gt;<span class="xmlverb-text"><br></br>
    </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d20e652">variable</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">uriRel</span>" <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">concat($srcDirRel, $srcFilename, '.xd.html')</span>" /&gt;<span class="xmlverb-text"><br></br>
    </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d20e654">variable</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">verbatimUriAbs</span>" <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">concat($targetUri, $srcDirRel, $srcFilename, '.src.html')</span>" /&gt;<span class="xmlverb-text"><br></br>
    </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d20e657">variable</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">verbatimUriRel</span>" <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">concat($srcDirRel, $srcFilename, '.src.html')</span>" /&gt;<span class="xmlverb-text"><br></br>
    </span>&lt;<span class="xmlverb-element-name"><a name="d20e659">page</a></span> <span class="xmlverb-attr-name">uriAbs</span>="<span class="xmlverb-attr-content">{$uriAbs}</span>" <span class="xmlverb-attr-name">uriRel</span>="<span class="xmlverb-attr-content">{$uriRel}</span>" <span class="xmlverb-attr-name">verbatimUriAbs</span>="<span class="xmlverb-attr-content">{$verbatimUriAbs}</span>" <span class="xmlverb-attr-name">verbatimUriRel</span>="<span class="xmlverb-attr-content">{$verbatimUriRel}</span>" <span class="xmlverb-attr-name">srcUriAbs</span>="<span class="xmlverb-attr-content">{$srcUriAbs}</span>" <span class="xmlverb-attr-name">srcUriRel</span>="<span class="xmlverb-attr-content">{$srcUriRel}</span>" <span class="xmlverb-attr-name">srcDirAbs</span>="<span class="xmlverb-attr-content">{$srcDirAbs}</span>" <span class="xmlverb-attr-name">srcFilename</span>="<span class="xmlverb-attr-content">{$srcFilename}</span>" <span class="xmlverb-attr-name">label</span>="<span class="xmlverb-attr-content">{$srcFilename}</span>"&gt;<span class="xmlverb-text"><br></br>
    </span>&lt;/<span class="xmlverb-element-name">page</span>&gt;<span class="xmlverb-text"><br></br>
    <br></br>
    </span>&lt;!--<span class="xmlverb-comment"> Follow import/includes </span>--&gt;<span class="xmlverb-text"><br></br>
    </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d20e664">for-each</a></span> <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">document($srcUriAbs)/(xsl:stylesheet | xsl:transform)/xsl:include | document($srcUriAbs)/(xsl:stylesheet | xsl:transform)/xsl:import</span>"&gt;<span class="xmlverb-text"><br></br>
      </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d20e666">call-template</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">buildStylesheetPagelist</span>"&gt;<span class="xmlverb-text"><br></br>
        </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d20e668">with-param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">stylesheetUri</span>" <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">xs:string(resolve-uri(@href, xs:string(base-uri(.))))</span>" /&gt;<span class="xmlverb-text"><br></br>
        </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d20e670">with-param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">rootUri</span>" <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">$rootUri</span>" /&gt;<span class="xmlverb-text"><br></br>
        </span>&lt;<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name"><a name="d20e672">with-param</a></span> <span class="xmlverb-attr-name">name</span>="<span class="xmlverb-attr-content">targetUri</span>" <span class="xmlverb-attr-name">select</span>="<span class="xmlverb-attr-content">$targetUri</span>" /&gt;<span class="xmlverb-text"><br></br>
      </span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">call-template</span>&gt;<span class="xmlverb-text"><br></br>
    </span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">for-each</span>&gt;<span class="xmlverb-text"><br></br>
  </span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">template</span>&gt;<span class="xmlverb-text"><br></br>
<br></br>
</span>&lt;/<span class="xmlverb-element-nsprefix">xsl</span>:<span class="xmlverb-element-name">stylesheet</span>&gt;<br></br>
</div>
</tt><br></br><br></br><br></br><br></br><br></br><br></br><br></br><br></br><br></br><br></br><br></br><br></br><br></br><br></br><br></br><br></br><br></br><br></br><br></br><br></br><br></br><br></br><br></br><br></br><br></br><br></br><br></br><br></br><br></br><br></br><br></br><br></br><br></br><br></br><br></br><br></br><br></br><br></br>v
         </body></html>
